# App CMakeLists

set(APP_DIR ${CMAKE_CURRENT_SOURCE_DIR})

set (APP_SOURCES ${APP_SOURCES}
	${APP_DIR}/Src/app.c
)

IF (FTR_BIST)
	IF (TYPE STREQUAL "CONTROLLER")
		set (APP_SOURCES ${APP_SOURCES}
		)
	ELSEIF (TYPE STREQUAL "CARD")
		set (APP_SOURCES ${APP_SOURCES}
			${APP_DIR}/Src/card_bist.c
		)
	ENDIF()
ELSE()
	IF (TYPE STREQUAL "CONTROLLER")
		set (APP_SOURCES ${APP_SOURCES}
		)
	ELSEIF (TYPE STREQUAL "CARD")
		set (APP_SOURCES ${APP_SOURCES}
		${APP_DIR}/Src/card.c
		)
	ENDIF()
ENDIF()

IF (FTR_LED)
	set (APP_SOURCES ${APP_SOURCES}
		${APP_DIR}/Src/led.c
	)
ENDIF()

IF (FTR_BUTTON)
	set (APP_SOURCES ${APP_SOURCES}
		${APP_DIR}/Src/button.c
	)
ENDIF()

IF (OS_FREERTOS)
	set (APP_SOURCES ${APP_SOURCES}
		${APP_DIR}/Src/RTOSResources.c
	)
ENDIF()

IF (FTR_EINK)
	set (APP_SOURCES ${APP_SOURCES}
		${APP_DIR}/Src/eink_e370_driver.c
	)

	IF (${TYPE} STREQUAL "CARD")
		set (APP_SOURCES ${APP_SOURCES}
			${APP_DIR}/Src/eink_lib.c
		)
	ENDIF()
ENDIF()

IF (FTR_GUI)
	IF (TYPE STREQUAL "CONTROLLER")
		set (APP_SOURCES ${APP_SOURCES}
			${APP_DIR}/Src/gui.c
			${APP_DIR}/Src/Games/games.c
			${APP_DIR}/Src/Games/Hanabi.c
			${APP_DIR}/Src/Games/CardDeck.c
			${APP_DIR}/Src/buzzer.c
		)
	ELSEIF (TYPE STREQUAL "CARD")
		set (APP_SOURCES ${APP_SOURCES}

		)
	ENDIF()
ENDIF()

IF (FTR_NFCREADER)
	set (APP_SOURCES ${APP_SOURCES}
		${APP_DIR}/Src/st25r.c
	)
ENDIF()

IF (FTR_NFCTAG)
	set (APP_SOURCES ${APP_SOURCES}
	${APP_DIR}/Src/m24lr.c
	)
ENDIF()

IF (FTR_DATASENDER)
	set (APP_SOURCES ${APP_SOURCES}
		${APP_DIR}/Src/sender.c
	)
ENDIF()

IF (FTR_WATCHDOG)
	set (APP_SOURCES ${APP_SOURCES}
		${APP_DIR}/Src/watchdog.c
	)
ENDIF()



set (APP_SOURCES ${APP_SOURCES} PARENT_SCOPE)

set (APP_INCLUDES
	${APP_DIR}/Inc
PARENT_SCOPE)
